# WiFi热点使用说明

## 功能介绍

本系统支持创建WiFi热点，让手机、平板等移动设备可以直接连接访问投票抽奖系统，无需外网环境。

## 使用步骤

### 1. 启动WiFi热点

**方法一：使用批处理脚本（推荐）**

1. 右键点击 `配置并启动WiFi热点.bat`
2. 选择"以管理员身份运行"
3. 等待配置完成，记住显示的WiFi名称和密码

**方法二：手动命令**

以管理员身份运行PowerShell或CMD，执行：
```bash
# 配置热点
netsh wlan set hostednetwork mode=allow ssid=投票抽奖系统 key=12345678

# 启动热点
netsh wlan start hostednetwork
```

### 2. 启动服务器

双击运行 `启动GUI.bat` 启动服务器程序，然后点击"启动服务"按钮。

### 3. 移动设备连接

1. 在手机/平板的WiFi设置中，找到并连接 `投票抽奖系统` WiFi
2. 输入密码：`12345678`
3. 连接成功后，打开浏览器访问：
   - 首页：`http://192.168.xxx.xxx:5000`（IP地址见启动热点时的提示）
   - 投票页面：`http://192.168.xxx.xxx:5000/vote`
   - 抽奖页面：`http://192.168.xxx.xxx:5000/lottery`
   - 管理后台：`http://192.168.xxx.xxx:5000/admin`

### 4. 停止WiFi热点

**方法一：使用批处理脚本**
1. 右键点击 `停止WiFi热点.bat`
2. 选择"以管理员身份运行"

**方法二：手动命令**
```bash
netsh wlan stop hostednetwork
```

## 默认配置

- **WiFi名称(SSID)**：投票抽奖系统
- **WiFi密码**：12345678
- **服务器端口**：5000

## 修改热点配置

如需修改WiFi名称或密码，编辑 `配置并启动WiFi热点.bat` 文件：

```batch
set SSID=你的WiFi名称
set PASSWORD=你的密码（至少8位）
```

## 常见问题

### 1. 提示"需要管理员权限"
**解决方案**：右键点击批处理文件，选择"以管理员身份运行"

### 2. 热点启动失败
**可能原因**：
- 无线网卡不支持承载网络功能
- 无线网卡驱动未正确安装
- 其他程序占用了无线网络

**解决方案**：
1. 检查无线网卡是否支持WiFi热点功能：
   ```bash
   netsh wlan show drivers
   ```
   查找 "支持的承载网络" 或 "Hosted network supported"，应显示"是"

2. 更新无线网卡驱动程序
3. 重启电脑后重试

### 3. 手机连接上了但无法访问
**解决方案**：
- 确保服务器程序已启动（GUI界面显示"运行中"）
- 检查防火墙设置，允许Python程序的网络访问
- 确认手机和电脑在同一网络（已连接到热点）
- 尝试关闭Windows防火墙测试

### 4. 如何查看本机IP地址
在CMD中执行：
```bash
ipconfig
```
查找"无线局域网适配器"下的IPv4地址

## 技术说明

### 热点实现原理
使用Windows系统的承载网络（Hosted Network）功能，通过无线网卡创建虚拟WiFi热点。

### 端口说明
- **5000**：Flask Web服务器主端口
- **WiFi热点**：使用标准的802.11无线协议

### 安全提示
1. 建议设置强密码（至少8位，包含字母数字）
2. 使用完毕后及时关闭热点
3. 管理后台建议设置访问密码

## 工具文件说明

| 文件名 | 说明 | 是否需要管理员权限 |
|--------|------|-------------------|
| `配置并启动WiFi热点.bat` | 配置并启动热点（推荐） | 是 |
| `启动WiFi热点.bat` | 启动已配置的热点 | 是 |
| `停止WiFi热点.bat` | 停止正在运行的热点 | 是 |
| `check_hotspot.py` | 检查热点状态 | 否 |
| `test_hotspot.py` | 完整测试热点功能 | 是 |

## 快速参考命令

```bash
# 检查无线网卡是否支持热点
netsh wlan show drivers

# 查看热点状态
netsh wlan show hostednetwork

# 配置热点
netsh wlan set hostednetwork mode=allow ssid=名称 key=密码

# 启动热点
netsh wlan start hostednetwork

# 停止热点
netsh wlan stop hostednetwork

# 查看IP地址
ipconfig
```

## 使用场景

1. **年会现场**：无外网环境下，创建热点供员工手机连接投票
2. **会议室**：快速搭建局域网投票系统
3. **教室活动**：学生通过手机连接参与课堂互动
4. **展会现场**：观众通过WiFi参与抽奖活动

## 注意事项

1. ⚠️ 热点功能需要管理员权限
2. ⚠️ 需要无线网卡支持承载网络功能
3. ⚠️ 同时只能启动一个热点
4. ⚠️ 重启电脑后需要重新启动热点
5. ⚠️ 建议先启动热点，再启动服务器

## 联系支持

如有问题，请检查系统日志或联系技术支持。
