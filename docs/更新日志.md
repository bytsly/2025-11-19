# 更新日志

## v2.0.0 (2024-10-17)

### 🎉 重大更新：GUI窗口模式

#### 新增功能
- ✨ **GUI图形界面**：全新的窗口模式，告别黑色命令行
  - 友好的图形化控制面板
  - 实时显示系统状态和服务器地址
  - 直观的按钮操作界面
  
- 🎮 **服务控制**：
  - 一键启动/停止/重启服务
  - 实时状态监控（运行中/已停止）
  - 服务运行在独立线程，不阻塞界面
  
- 🚀 **快速访问**：
  - 一键打开首页
  - 一键打开管理后台
  - 一键打开投票页面
  - 一键打开抽奖页面
  
- 📝 **日志管理**：
  - 实时日志显示
  - 彩色日志分级（INFO/SUCCESS/WARNING/ERROR）
  - 日志导出功能
  - 一键清空日志
  
- 🌐 **网络信息**：
  - 自动显示本地访问地址
  - 自动显示局域网访问地址
  - 智能IP地址检测

#### 新增文件
- `gui_app.py` - GUI主程序
- `build_exe.spec` - PyInstaller打包配置（GUI版本）
- `启动GUI.bat` - GUI快速启动脚本
- `GUI窗口模式说明.md` - GUI技术文档
- `窗口模式快速指南.md` - GUI使用指南
- `更新日志.md` - 本文件

#### 改进优化
- 📦 **打包优化**：
  - 修改打包配置为窗口模式（`console=False`）
  - 更新打包脚本说明
  - 优化打包后的启动说明文件
  
- 📚 **文档完善**：
  - 更新 README.md 添加GUI模式说明
  - 提供两套完整的使用文档
  - 增加常见问题解答

#### 技术细节
- 使用 `tkinter` 作为GUI框架（Python标准库，无需额外依赖）
- 多线程架构：主线程运行GUI，服务线程运行Flask
- 标准输出重定向到GUI日志窗口
- 保持与终端模式的完全兼容

#### 兼容性
- ✅ 完全向后兼容，终端模式依然可用
- ✅ 所有原有功能保持不变
- ✅ 配置文件通用
- ✅ 数据库格式不变

---

## v1.0.0 (2024-10-15)

### 初始版本功能

#### 投票功能
- 候选人管理（增删改查）
- 多种导入方式（Excel/CSV、OCR识别、手动添加）
- 实时投票统计
- 防重复投票机制
- 投票结果导出

#### 抽奖功能
- 炫酷抽奖动画
- 灵活配置抽奖参数
- 排除已中奖者
- 抽奖历史记录
- 大屏展示模式

#### 网络功能
- WiFi热点创建
- 二维码生成
- 局域网支持

#### 管理功能
- 候选人管理界面
- 投票数据统计
- 抽奖记录查询

#### 技术栈
- 后端：Flask + Flask-SocketIO + SQLAlchemy
- 前端：HTML + CSS + JavaScript
- 数据库：SQLite
- OCR：PaddleOCR
- 其他：pywin32, qrcode, pandas, openpyxl

---

## 升级说明

### 从 v1.0 升级到 v2.0

**数据兼容**：
- ✅ 数据库完全兼容，无需迁移
- ✅ 配置文件通用
- ✅ 上传的文件不受影响

**操作变化**：
- 🆕 新增GUI启动方式
- 🆕 可以继续使用终端模式
- 🆕 打包exe变为GUI窗口程序

**升级步骤**：
1. 备份 `database/` 和 `uploads/` 目录
2. 更新代码到最新版本
3. 不需要重新安装依赖（tkinter是标准库）
4. 直接运行 `python gui_app.py` 或打包为exe

---

## 未来计划 (v2.1+)

### 计划中的功能
- [ ] 系统托盘最小化
- [ ] 配置可视化编辑器
- [ ] 主题切换（深色/浅色模式）
- [ ] 系统资源监控
- [ ] 自动更新检查
- [ ] 更多图标和美化
- [ ] 国际化支持（多语言）
- [ ] macOS/Linux GUI支持

### 性能优化
- [ ] 启动速度优化
- [ ] 内存占用优化
- [ ] 日志性能优化
- [ ] 打包体积优化

### 用户体验
- [ ] 首次使用引导
- [ ] 快捷键支持
- [ ] 拖拽文件导入
- [ ] 批量操作优化

---

## 反馈和建议

如有任何问题、建议或Bug反馈，欢迎通过以下方式联系：

- 📧 邮件反馈
- 💬 提交Issue
- 📝 查看文档获取帮助

感谢使用投票抽奖系统！🎉
