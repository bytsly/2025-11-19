# ðŸ“± WiFiçƒ­ç‚¹è‡ªåŠ¨å¼•å¯¼åŠŸèƒ½è¯´æ˜Ž

## ðŸŽ¯ åŠŸèƒ½æ¦‚è¿°

å½“ç”¨æˆ·è¿žæŽ¥åˆ°"æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ"WiFiçƒ­ç‚¹åŽï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰“å¼€æ¬¢è¿Žé¡µé¢ï¼Œå¹¶åœ¨3ç§’åŽè‡ªåŠ¨è·³è½¬åˆ°æŠ•ç¥¨é¡µé¢ï¼Œå®žçŽ°**æ— ç¼å¼•å¯¼ä½“éªŒ**ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. æ™ºèƒ½æ£€æµ‹
- âœ… **ç§»åŠ¨è®¾å¤‡æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«æ‰‹æœºã€å¹³æ¿ç­‰ç§»åŠ¨è®¾å¤‡
- âœ… **Captive Portalæ”¯æŒ**ï¼šå…¼å®¹iOSã€Androidã€Windowsçš„å¼ºåˆ¶é—¨æˆ·æ£€æµ‹
- âœ… **PC/ç§»åŠ¨ç«¯åˆ†æµ**ï¼šPCæ˜¾ç¤ºå®Œæ•´ä¸»é¡µï¼Œç§»åŠ¨ç«¯æ˜¾ç¤ºæ¬¢è¿Žé¡µ

### 2. è‡ªåŠ¨å¼•å¯¼
- ðŸŽ‰ **æ¬¢è¿Žé¡µé¢**ï¼šæ˜¾ç¤ºWiFiè¿žæŽ¥æˆåŠŸä¿¡æ¯
- â±ï¸ **å€’è®¡æ—¶è·³è½¬**ï¼š3ç§’åŽè‡ªåŠ¨è¿›å…¥æŠ•ç¥¨é¡µé¢
- ðŸŽ¯ **å¿«é€Ÿå…¥å£**ï¼šæä¾›æŠ•ç¥¨ã€æŠ½å¥–ã€ä¸»é¡µæŒ‰é’®

### 3. ç”¨æˆ·ä½“éªŒ
- ðŸ“± **ç§»åŠ¨ç«¯ä¼˜åŒ–**ï¼šå“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§å±å¹•å°ºå¯¸
- ðŸŽ¨ **ç²¾ç¾Žç•Œé¢**ï¼šæ¸å˜èƒŒæ™¯ã€åŠ¨ç”»æ•ˆæžœ
- ðŸ’¡ **ä½¿ç”¨æç¤º**ï¼šæ˜¾ç¤ºæ“ä½œæŒ‡å—

## ðŸš€ ä½¿ç”¨æµç¨‹

### ç”¨æˆ·ä¾§ä½“éªŒ

```
1. ç”¨æˆ·è¿žæŽ¥WiFi "æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ"
   â†“
2. æ‰‹æœºè‡ªåŠ¨å¼¹å‡ºè¿žæŽ¥æç¤º/æ‰“å¼€æµè§ˆå™¨
   â†“
3. ç³»ç»Ÿè‡ªåŠ¨è·³è½¬åˆ°æ¬¢è¿Žé¡µé¢
   â†“
4. æ˜¾ç¤º"æ¬¢è¿Žè¿žæŽ¥æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ"
   â†“
5. 3ç§’å€’è®¡æ—¶åŽè‡ªåŠ¨è¿›å…¥æŠ•ç¥¨é¡µé¢
   â†“
6. å¼€å§‹æŠ•ç¥¨
```

### ç®¡ç†å‘˜æ“ä½œ

```
1. ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ "é…ç½®å¹¶å¯åŠ¨WiFiçƒ­ç‚¹.bat"
   â†“
2. å¯åŠ¨ "å¯åŠ¨GUI.bat" å¹¶ç‚¹å‡»"å¯åŠ¨æœåŠ¡"
   â†“
3. å‘ŠçŸ¥ç”¨æˆ·è¿žæŽ¥WiFiä¿¡æ¯
   â†“
4. ç”¨æˆ·è‡ªåŠ¨å¼•å¯¼åˆ°æŠ•ç¥¨é¡µé¢ âœ“
```

## ðŸ“‹ æŠ€æœ¯å®žçŽ°

### è·¯ç”±é…ç½®

ç³»ç»Ÿæ·»åŠ äº†ä»¥ä¸‹è·¯ç”±ç«¯ç‚¹ï¼š

| è·¯å¾„ | è¯´æ˜Ž | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `/` | æ™ºèƒ½é¦–é¡µ | PCç«¯æ˜¾ç¤ºå®Œæ•´ä¸»é¡µï¼Œç§»åŠ¨ç«¯è·³è½¬æ¬¢è¿Žé¡µ |
| `/welcome` | æ¬¢è¿Žé¡µé¢ | WiFiè¿žæŽ¥åŽçš„å¼•å¯¼é¡µ |
| `/generate_204` | AndroidæŽ¢æµ‹ | Androidè®¾å¤‡Captive Portal |
| `/gen_204` | ChromeæŽ¢æµ‹ | Chromeæµè§ˆå™¨æŽ¢æµ‹ |
| `/hotspot-detect.html` | iOSæŽ¢æµ‹ | iPhone/iPad Captive Portal |
| `/connecttest.txt` | WindowsæŽ¢æµ‹ | Windowsç³»ç»ŸæŽ¢æµ‹ |

### æ£€æµ‹é€»è¾‘

```python
# ç§»åŠ¨è®¾å¤‡æ£€æµ‹
user_agent = request.headers.get('User-Agent', '').lower()
is_mobile = any(x in user_agent for x in 
    ['mobile', 'android', 'iphone', 'ipad', 'ipod'])

# Captive PortalæŽ¢æµ‹æ£€æµ‹
is_captive_probe = any([
    'captivenetworksupport' in user_agent,
    'connectivitycheck' in request.url,
    request.path in ['/generate_204', '/gen_204']
])

# ç§»åŠ¨ç«¯æˆ–æŽ¢æµ‹è¯·æ±‚ â†’ æ¬¢è¿Žé¡µ
if is_mobile or is_captive_probe:
    return redirect('/welcome')
```

### è‡ªåŠ¨è·³è½¬æœºåˆ¶

æ¬¢è¿Žé¡µä½¿ç”¨JavaScriptå®žçŽ°3ç§’å€’è®¡æ—¶è‡ªåŠ¨è·³è½¬ï¼š

```javascript
let countdown = 3;
const timer = setInterval(() => {
    countdown--;
    if (countdown <= 0) {
        window.location.href = '/vote';
    }
}, 1000);
```

## ðŸŽ¨ é¡µé¢å±•ç¤º

### æ¬¢è¿Žé¡µé¢å†…å®¹

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        ðŸŽ‰
   æ¬¢è¿Žè¿žæŽ¥æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ
      WiFiè¿žæŽ¥æˆåŠŸï¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  âœ“ å·²è¿žæŽ¥WiFi: æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ
  âœ“ ç½‘ç»œçŠ¶æ€: å·²è¿žæŽ¥
  
  3 ç§’åŽè‡ªåŠ¨è¿›å…¥æŠ•ç¥¨é¡µé¢...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [ðŸ—³ï¸ ç«‹å³å¼€å§‹æŠ•ç¥¨]
  [ðŸŽ æŸ¥çœ‹æŠ½å¥–æ´»åŠ¨]
  [ðŸ“‹ è¿”å›žä¸»é¡µ]
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ðŸ“± ä½¿ç”¨æç¤º
  â€¢ ä¿æŒæ‰‹æœºä¸ŽWiFiè¿žæŽ¥çŠ¶æ€
  â€¢ å»ºè®®ä½¿ç”¨æµè§ˆå™¨è®¿é—®
  â€¢ å¦‚æœ‰é—®é¢˜è¯·è”ç³»çŽ°åœºå·¥ä½œäººå‘˜
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

## ðŸ“± è®¾å¤‡å…¼å®¹æ€§

### æ”¯æŒçš„è®¾å¤‡
- âœ… iPhone (iOS 10+)
- âœ… iPad (iOS 10+)
- âœ… Androidæ‰‹æœº (Android 5.0+)
- âœ… Androidå¹³æ¿
- âœ… Windowså¹³æ¿
- âœ… PCæµè§ˆå™¨

### æµ‹è¯•çš„æµè§ˆå™¨
- Safari (iOS)
- Chrome (Android/iOS)
- å¾®ä¿¡å†…ç½®æµè§ˆå™¨
- QQæµè§ˆå™¨
- ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨

## ðŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šå®Œå…¨è‡ªåŠ¨ï¼ˆæŽ¨èï¼‰

1. **å¯åŠ¨çƒ­ç‚¹**
   ```batch
   å³é”® "é…ç½®å¹¶å¯åŠ¨WiFiçƒ­ç‚¹.bat" â†’ ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
   ```

2. **å¯åŠ¨æœåŠ¡å™¨**
   ```batch
   åŒå‡» "å¯åŠ¨GUI.bat" â†’ ç‚¹å‡»"å¯åŠ¨æœåŠ¡"
   ```

3. **ç”¨æˆ·è¿žæŽ¥**
   - æ‰‹æœºè¿žæŽ¥WiFi "æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ"
   - ç³»ç»Ÿè‡ªåŠ¨æ‰“å¼€æ¬¢è¿Žé¡µ
   - 3ç§’åŽè‡ªåŠ¨è¿›å…¥æŠ•ç¥¨é¡µé¢

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨è®¿é—®

å¦‚æžœè‡ªåŠ¨è·³è½¬æœªè§¦å‘ï¼Œç”¨æˆ·å¯ä»¥ï¼š

1. è¿žæŽ¥WiFiåŽï¼Œæ‰“å¼€æµè§ˆå™¨
2. è®¿é—® `http://192.168.x.x:5000`
3. è‡ªåŠ¨è·³è½¬åˆ°æ¬¢è¿Žé¡µ
4. é€‰æ‹©è¦è®¿é—®çš„åŠŸèƒ½

### æ–¹å¼ä¸‰ï¼šç¦ç”¨è‡ªåŠ¨è·³è½¬

è®¿é—®æ¬¢è¿Žé¡µä½†ä¸è‡ªåŠ¨è·³è½¬ï¼š
```
http://192.168.x.x:5000/welcome?auto=false
```

## ðŸ’¡ ä½¿ç”¨åœºæ™¯

### 1. å¹´ä¼šæ´»åŠ¨
```
å‘˜å·¥å…¥åœº â†’ è¿žæŽ¥çŽ°åœºWiFi â†’ è‡ªåŠ¨æ‰“å¼€æŠ•ç¥¨é¡µ â†’ ä¸ºèŠ‚ç›®æŠ•ç¥¨
```

### 2. ä¼šè®®è¯„é€‰
```
å‚ä¼šè€… â†’ è¿žæŽ¥ä¼šè®®WiFi â†’ è‡ªåŠ¨å¼•å¯¼ â†’ æŠ•ç¥¨é€‰å‡ºæœ€ä½³æ–¹æ¡ˆ
```

### 3. è¯¾å ‚äº’åŠ¨
```
å­¦ç”Ÿ â†’ è¿žæŽ¥æ•™å®¤WiFi â†’ è‡ªåŠ¨è¿›å…¥ â†’ å‚ä¸Žè¯¾å ‚æŠ•ç¥¨
```

### 4. å±•ä¼šæŠ½å¥–
```
è§‚ä¼— â†’ è¿žæŽ¥å±•ä½WiFi â†’ è‡ªåŠ¨æ‰“å¼€ â†’ å‚ä¸ŽæŠ½å¥–æ´»åŠ¨
```

## ðŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è·³è½¬æ—¶é—´

ç¼–è¾‘ `frontend/welcome.html`ï¼Œæ‰¾åˆ°ï¼š
```javascript
let countdown = 3;  // æ”¹ä¸ºä½ æƒ³è¦çš„ç§’æ•°
```

### ä¿®æ”¹é»˜è®¤è·³è½¬é¡µé¢

ç¼–è¾‘ `frontend/welcome.html`ï¼Œæ‰¾åˆ°ï¼š
```javascript
window.location.href = '/vote';  // æ”¹ä¸º '/lottery' æˆ–å…¶ä»–é¡µé¢
```

### ç¦ç”¨è‡ªåŠ¨è·³è½¬

ç¼–è¾‘ `frontend/welcome.html`ï¼Œæ‰¾åˆ°ï¼š
```javascript
const autoRedirect = urlParams.get('auto') !== 'false';
```
æ”¹ä¸ºï¼š
```javascript
const autoRedirect = false;  // å®Œå…¨ç¦ç”¨è‡ªåŠ¨è·³è½¬
```

## ðŸ“Š æµé‡ç»Ÿè®¡

ç³»ç»Ÿä¼šåœ¨æŽ§åˆ¶å°è¾“å‡ºè¿žæŽ¥æ—¥å¿—ï¼š
```
å®¢æˆ·ç«¯å·²è¿žæŽ¥
æ­£åœ¨è®¿é—®: /
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)
æ£€æµ‹åˆ°ç§»åŠ¨è®¾å¤‡ï¼Œé‡å®šå‘åˆ°æ¬¢è¿Žé¡µ
```

## âš™ï¸ æ•…éšœæŽ’æŸ¥

### é—®é¢˜1ï¼šè¿žæŽ¥WiFiåŽæ²¡æœ‰è‡ªåŠ¨å¼¹å‡ºé¡µé¢

**åŽŸå› **ï¼š
- éƒ¨åˆ†æ‰‹æœºå…³é—­äº†Captive Portalæ£€æµ‹
- æ‰‹æœºæœªå¼€å¯"è‡ªåŠ¨ç™»å½•ç½‘ç»œ"åŠŸèƒ½

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://192.168.x.x:5000`
- æˆ–è®¿é—®ä»»æ„ç½‘å€ï¼ˆå¦‚baidu.comï¼‰ï¼Œä¼šè‡ªåŠ¨é‡å®šå‘

### é—®é¢˜2ï¼šæ˜¾ç¤ºæ— æ³•è¿žæŽ¥

**åŽŸå› **ï¼š
- æœåŠ¡å™¨æœªå¯åŠ¨
- é˜²ç«å¢™é˜»æ­¢è¿žæŽ¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®è®¤GUIç•Œé¢æ˜¾ç¤º"è¿è¡Œä¸­"
- å…³é—­Windowsé˜²ç«å¢™æµ‹è¯•

### é—®é¢˜3ï¼šè‡ªåŠ¨è·³è½¬ä¸å·¥ä½œ

**åŽŸå› **ï¼š
- æµè§ˆå™¨JavaScriptè¢«ç¦ç”¨
- ç½‘ç»œå»¶è¿Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ‰‹åŠ¨ç‚¹å‡»"ç«‹å³å¼€å§‹æŠ•ç¥¨"æŒ‰é’®
- åˆ·æ–°é¡µé¢é‡è¯•

## ðŸ“ æ³¨æ„äº‹é¡¹

1. âš ï¸ **æœåŠ¡å™¨å¿…é¡»å¯åŠ¨**ï¼šç¡®ä¿GUIç•Œé¢æ˜¾ç¤º"è¿è¡Œä¸­"
2. âš ï¸ **é˜²ç«å¢™è®¾ç½®**ï¼šå…è®¸Pythonç¨‹åºçš„ç½‘ç»œè®¿é—®
3. âš ï¸ **WiFiä¿¡å·**ï¼šç¡®ä¿ä¿¡å·å¼ºåº¦è‰¯å¥½
4. âš ï¸ **æµè§ˆå™¨å…¼å®¹**ï¼šå»ºè®®ä½¿ç”¨çŽ°ä»£æµè§ˆå™¨
5. âš ï¸ **åŒæ—¶è¿žæŽ¥æ•°**ï¼šæ ¹æ®ç½‘å¡æ€§èƒ½ï¼Œä¸€èˆ¬æ”¯æŒ20-100ä¸ªè®¾å¤‡

## ðŸŽ¯ æœ€ä½³å®žè·µ

### æ´»åŠ¨çŽ°åœºéƒ¨ç½²

```
å‡†å¤‡é˜¶æ®µ:
1. æå‰æµ‹è¯•WiFiçƒ­ç‚¹åŠŸèƒ½
2. å‡†å¤‡äºŒç»´ç æµ·æŠ¥ï¼ˆå¯é€‰ï¼‰
3. è®¾ç½®æŠ•ç¥¨/æŠ½å¥–å†…å®¹

æ´»åŠ¨å¼€å§‹:
1. å¯åŠ¨WiFiçƒ­ç‚¹ï¼ˆæå‰30åˆ†é’Ÿï¼‰
2. å¯åŠ¨æœåŠ¡å™¨ç¨‹åº
3. æµ‹è¯•è‡ªåŠ¨è·³è½¬åŠŸèƒ½
4. å¼•å¯¼ç”¨æˆ·è¿žæŽ¥WiFi

æ´»åŠ¨è¿›è¡Œ:
1. ç›‘æŽ§è¿žæŽ¥æ•°é‡
2. è§‚å¯ŸæŠ•ç¥¨æ•°æ®
3. å‡†å¤‡æŠ½å¥–çŽ¯èŠ‚

æ´»åŠ¨ç»“æŸ:
1. å¯¼å‡ºæ•°æ®
2. åœæ­¢æœåŠ¡å™¨
3. å…³é—­WiFiçƒ­ç‚¹
```

### ç”¨æˆ·å¼•å¯¼è¯æœ¯

```
"å„ä½æ¥å®¾ï¼Œè¯·æ‰“å¼€æ‰‹æœºWiFiï¼Œ
è¿žæŽ¥'æŠ•ç¥¨æŠ½å¥–ç³»ç»Ÿ'ï¼Œ
å¯†ç æ˜¯ï¼š12345678ï¼Œ
è¿žæŽ¥åŽä¼šè‡ªåŠ¨æ‰“å¼€æŠ•ç¥¨é¡µé¢ï¼Œ
è¯·ä¸ºæ‚¨å–œæ¬¢çš„èŠ‚ç›®æŠ•ç¥¨ï¼"
```

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼š
1. æŸ¥çœ‹GUIçª—å£çš„è¿è¡Œæ—¥å¿—
2. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥çŠ¶æ€
3. å‚è€ƒæœ¬æ–‡æ¡£çš„æ•…éšœæŽ’æŸ¥éƒ¨åˆ†

---

**æ›´æ–°æ—¥å¿—**
- v1.0.0 (2025-01-10) - åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬çš„è‡ªåŠ¨å¼•å¯¼åŠŸèƒ½
